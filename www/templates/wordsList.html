<ion-view view-title="СЛОВА ЗА КАТЕГОРІЯМИ">
  <ion-content class="categories-list has-footer">
    <div class="border-decoration"></div>
    <p>Відкрито {{getOpenedCategoriesCount()}} з {{categories.length}} категорій слів</p>

    <ion-list>
    <div class="border-decoration"></div>
        <div ng-repeat="category in categoriesToDisplay">
          <ion-item class="item-stable category"
                    ng-click="toggleCategory(category)"
                    ng-class="{active: isCategoryShown(category)}">
            <i class="icon" ng-class="isCategoryShown(category) ? 'ion-minus-round' : 'ion-plus-round'" ng-show="category.isOpened"></i>
            <i class="icon ion-android-lock" ng-show="!category.isOpened"></i>
            &nbsp;
            {{category.name}}
            <img class="category-icon" ng-src="img/categories/{{category.id}}.jpg">
            <p ng-show="!category.isOpened">Складіть ще <span>{{remainingComposingWordsCountToOpenCategory}}</span> слів, щоб відкрити категорію</p>
          </ion-item>
          <div class="border-decoration"></div>
          <ion-item class="item-accordion category-word"
                    href="#/app/wordslist/{{word.id}}"
                    ng-repeat="word in category.wordsList"
                    ng-show="isCategoryShown(category)">
            {{word.name}}
            <p>{{word.openedComposingWords}} з {{word.totalComposingWords}}</p>
          </ion-item>
          <div class="border-decoration"></div>
        </div>
      </ion-list>

    <button ng-click="editData()">Action {{tryCopyDB}}</button>
  </ion-content>

  <ion-footer-bar class="footer">
    <div class="border-decoration"></div>
    <div class="footer-controls">
      <div class="buttons">
        <button class="help-button"><i class="icon ion-help"></i></button>
      </div>
      <h1 class="title"></h1>
      <div class="buttons">
      </div>
    </div>
  </ion-footer-bar>
</ion-view>
